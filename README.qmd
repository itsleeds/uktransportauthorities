---
format: gfm
execute: 
  message: false
  warning: false
---


```{r}
#| results: 'hide'
pkgs = c("sf", "tidyverse", "ggrepel")
# Install packages if not already installed
new_pkgs = pkgs[!pkgs %in% installed.packages()[, "Package"]]
if(length(new_pkgs) > 0) {
  install.packages(new_pkgs)
}
for(pkg in pkgs) {
  library(pkg, character.only = TRUE)
}
```

```{r}
#| label: transport_authorities_map
transport_authorities = read_sf("transport_authorities.geojson")
names(transport_authorities)
nrow(transport_authorities)
transport_authorities$name
# ggplot2 with ggrepel for name labels
ggplot(transport_authorities) +
  geom_sf() +
  geom_sf_text(aes(label = name), size = 3, nudge_y = 0.1, check_overlap = TRUE) +
  theme_minimal() +
  labs(title = "Transport Authorities in the UK")
```